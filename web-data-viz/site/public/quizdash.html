<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/quizdash.css">
    <script src="./js/funcoes.js"></script>
</head>
<body>
    <div class="tudo">
    <div class="header">
        <div class="container">
            <div class="navbar">
                <div class="logo"><a href="index.html"><img src="./imagens/logo.png" alt=""height="70px"></a></div>
                <div class="hello">
                <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
            </div>
            <li><b><a href="./torcedor.html">TORCEDOR</a></b></li>
                    <li><b><a href="./mural.html">MURAL</a></b></li>
                    <li><b><a href="./quizdash.html">QUIZ</a></b></li>
                    <li><b><a href="./nota.html">AVALIACAO</a></b></li>
                    <li><b><a href="./dashboard.html">SITE</a></b></li>
                    <div class="sair">
                        <li><b><a href="login.html">SAIR</a></b></li>
                    </div>
            </div>
        </div>
    </div>
    <div class="container1">
        <div class="alerta_erro">
            <div class="card_erro" id="cardErro">
                <span id="mensagem_erro"></span>
            </div>
        </div>
        <div id="div_texto"> <div class="texto">
            <h2>Teste o seu conhecimento sobre Maior time da terra</h2>
            <p>Nesse quiz você poderá encontrar perguntas relacionadas ao futebol e coisa que vão alem do futebol, e curiosidades que você nem imaginava</p>
        </div></div>
        <div id="div_quiz">
            <h2>VOCÊ REALMENTE CONHECE O SANTOS?</h2><br>
            <img src="./imagens/santospele.JPG" height="200px" alt=""><br>
            <button onclick="iniciar()">INICIAR QUIZ</button>
        </div>
        <div id="div_aguardar" class="loading-div">
        </div>
    </div>
</div>
</body>
</html>
<script>
    
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;

    var respostas=[]
    var contador=0
    var um=0
    var dois=0
    var tres=0
    var quatro=0
    var cinco=0
    var seis=0
    var sete=0
    var oito=0
    var nove=0
    var dez=0
    var onze=0
    var doze=0
    var treze=0
    var quartoze=0
    var quinze=0

    function iniciar(){
        div_texto.innerHTML=''
        contador=0
        um=0
        dois=0
        tres=0
        quatro=0
        cinco=0
        seis=0
        sete=0
        oito=0
        nove=0
        dez=0
        onze=0
        doze=0
        treze=0
        quartoze=0
        quinze=0

        div_quiz.innerHTML=`<b>QUEM FEZ O GOL DE EMPATE CONTRA O AUDAX NA FINAL DO PAULISTA DE 2016?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/audax.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<input id="in_jogador"><button onclick="responder()">RESPONDER</button>`

    }


    function responder(){
        var jogador=in_jogador.value.toLowerCase()
            respostas.push(jogador)

         if(jogador=='ronaldo mendes'){
            contador++
            um++
        }
        div_quiz.innerHTML=`<b>QUEM MARCO O GOL DO TITULO DA LIBERTADORES DE 2011?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/2011.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<input id="in_jogador"><button onclick="responder1()">RESPONDER</button>`

        }

        function responder1(){
            var jogador=in_jogador.value.toLowerCase()
            respostas.push(jogador)

            if(jogador=='danilo'){
                contador++
                dois++
            }
        div_quiz.innerHTML=`<b>QUAL FOI O PRIMEIRO JOGADOR VENEZUELANO A JOGAR PELO SANTOS?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/venezuela.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não respondeu">Selecione o jogador</option><option value="PEÑARADA">PEÑARANDA</option><option value="BREITNER">BREITNER</option><option value="SOTELDO">SOTELDO</option><option value="CUEVA">CUEVA</option></select><button onclick="responder2()">RESPONDER</button>`
            
        }

        function responder2(){
            var jogador=(sel_santos.value)
            respostas.push(jogador)

            if(jogador=='BREITNER'){
                contador++
                tres++
            }
        div_quiz.innerHTML=`<b>QUE JOGADOR FOI REVELAÇÃO DO BRASILEIRÃO 2016</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/revelacao.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não respondeu">Selecione o jogador</option><option value="THIAGO MAIA">THIAGO MAIA</option><option value="ZECA">ZECA</option><option value="VITOR BUENO">VITOR BUENO</option><option value="LUCAS VERÍSSIMO">LUCAS VERÍSSIMO</option></select><button onclick="responder3()">RESPONDER</button>`

        }

        function responder3(){
            var jogador=(sel_santos.value)
            respostas.push(jogador)

            if(jogador=='VITOR BUENO'){
                contador++
                quatro++
            }
        div_quiz.innerHTML=`<b>QUEM MARCOU O GOL DO TITULO DO PAULISTÃO 2007 CONTRA O SÃO CAETANO?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/caetano.png" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<input id="in_jogador"><button onclick="responder4()">RESPONDER</button>`
        
        }

        function responder4(){

            var jogador=in_jogador.value.toLowerCase()
            respostas.push(jogador)

            if(jogador=='junior moraes'||jogador=='moraes'){
                contador++
                cinco++
            }
        div_quiz.innerHTML=`<b>QUEM FOI O ARTILHEIRO DO SANTOS EM 2013?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/Elenco-Santos-2013.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<input id="in_jogador"><button onclick="responder5()">RESPONDER</button>`

        }

        function responder5(){
            var jogador=in_jogador.value.toLowerCase()
            respostas.push(jogador)

            if(jogador=='cicero'||jogador=='cícero'){
                contador++
                seis++
            }
        div_quiz.innerHTML=`<b>CONTRA QUEM O SANTOS FOI CAMPEÃO DA COPA CONMEMBOL DE 1998?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/1998.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não respondeu">Selecione o time</option><option value="ROSARIO CENTRAL">ROSARIO CENTRAL</option><option value="LDU">LDU</option><option value="COLO-COLO">COLO-COLO</option><option value="UNION ESPAÑOLA">UNION ESPAÑOLA</option></select><button onclick="responder6()">RESPONDER</button>`

        }

        function responder6(){
            var time=(sel_santos.value)
            respostas.push(time)

            if(time=='ROSARIO CENTRAL'){
                contador++
                sete++
            }
        div_quiz.innerHTML=`<b>QUANTOS PENALTIS FABIO COSTA DEFENDEU NAS OITAVAS DE FINAL DA LIBERTADORES CONTRA O NACIONAL EM 2003?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/fabiocosta.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não respondeu">Selecione a quantidade</option><option value="0">0</option><option value="1">1</option><option value="2">2</option><option value="3">3</option></select><button onclick="responder7()">RESPONDER</button>`

        }

        function responder7(){
            var time=(sel_santos.value)
            respostas.push(time)

            if(time==3){
                contador++
                oito++
            }
        div_quiz.innerHTML=`<b>QUAL JOGADOR FEZ O ULTIMO GOL CONTRA O GOLEIRO ROGÉRIO CENI?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/2015.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<input id="in_jogador"><button onclick="responder8()">RESPONDER</button>`
        }

        function responder8(){
            var jogador=in_jogador.value.toLowerCase()
            respostas.push(jogador)

            if(jogador=='ricardo oliveira'){
                contador++
                nove++
            }
        div_quiz.innerHTML=`<b>QUEM É A MAIOR ARTILHEIRA DO SANTOS FEMININO?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/artilheira.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<input id="in_jogador"><button onclick="responder9()">RESPONDER</button>`

        }

        function responder9(){
            var jogador=in_jogador.value.toLowerCase()
            respostas.push(jogador)

            if(jogador=='ketlen'){
                contador++
                dez++
            }
        div_quiz.innerHTML=`<b>QUANTOS JOGADORES DOS SANTOS FORAM CONVOCADOS PARA SELEÇÃO BRASILEIRA?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/selesantos.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não respondeu">Selecione a quantidade</option><option value="24 JOGADORES">24 JOGADORES</option><option value="107 JOGADORES">107 JOGADORES</option><option value="83 JOGADORES">83 JOGADORES</option><option value="75 JOGADORES">75 JOGADORES</option></select><button onclick="responder10()">RESPONDER</button>`

        }

        function responder10(){
            var quantidade=(sel_santos.value)
            respostas.push(quantidade)

            if(quantidade=='83 JOGADORES'){
                contador++
                onze++
            }
        div_quiz.innerHTML=`<b>QUANTAS VEZES O SANTOS FEMININO VENCEU A LIBERADORES?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/femenino.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não Respondeu">Selecione a quantidade</option><option value="1 VEZ">1 VEZ</option><option value="2 VEZES">2 VEZES</option><option value="3 VEZES">3 VEZES</option><option value="NENHUMA VEZ">NENHUMA VEZ</option></select><button onclick="responder11()">RESPONDER</button>`
        }

        function responder11(){
            var quantidade=(sel_santos.value)
            respostas.push(quantidade)

            if(quantidade=='2 VEZES'){
                contador++
                doze++
            }
        div_quiz.innerHTML=`<b>POR QUANTO ANOS O SANTOS FICOU SEM PERDER PARA O CORINTHIANS?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/11anos.png" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<input id="in_ano"><button onclick="responder12()">RESPONDER</button>`

        }

        function responder12(){
            var ano=in_ano.value.toLowerCase()
            respostas.push(ano)

            if(ano==11||ano=='11 anos'||ano=='onze anos'){
                contador++
                treze++
            }
        div_quiz.innerHTML=`<b>QUE PAÍS DA AFRICA QUE O SANTOS PAROU UMA GUERRA?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/guerra.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não respondeu">Selecione o país</option><option value="GANA">GANA</option><option value="ANGOLA">ANGOLA</option><option value="NIGÉRIA">NIGÉRIA</option><option value="SENEGAL">SENEGAL</option></select><button onclick="responder13()">RESPONDER</button>`

        }

        function responder13(){
            var pais=(sel_santos.value)
            respostas.push(pais)

            if(pais=='NIGÉRIA'){
                contador++
                quartoze++
            }
        div_quiz.innerHTML=`<b>QUE EVENTO HISTÓRICO QUE ACONTECEU NO DIA DA FUNDAÇÃO DO SANTOS?</b><br>`
        div_quiz.innerHTML+=`<img src="./imagens/fundacao.jpg" alt="" height="200px"><br>`
        div_quiz.innerHTML+=`<select name="" id="sel_santos"><option value="Não respondeu">Selecione o evento</option><option value="O JAPÃO ANEXA A COREIA">O JAPÃO ANEXA A COREIA</option><option value="NAUFRÁGIO DO TITANIC">NAUFRÁGIO DO TITANIC</option><option value="NASCIMENTO DO LIDER KIM Il-SUNG">NASCIMENTO DO LIDER KIM Il-SUNG</option><option value="FUNDAÇÃO DA CHEVROLET">FUNDAÇÃO DA CHEVROLET</option></select><button onclick="pontuacao()">RESPONDER</button>`

        }

        function pontuacao(){
            var evento=(sel_santos.value)
            respostas.push(evento)

            if(evento=='NAUFRÁGIO DO TITANIC'){
                contador++
                quinze++
            }

            div_quiz.innerHTML=''
        div_texto.innerHTML=`<b>RESULTADO</b><br>`
        div_texto.innerHTML+=`Você acertou ${contador} de 15 perguntas<br>`
        

        if(contador<=4){
            div_texto.innerHTML+=`<br><img src="./imagens/neychorando.jpg" alt="" height="200px"><br>`
            div_texto.innerHTML+=`Você realmente é Santos?`
        }else if(contador<=10){
            div_texto.innerHTML+=`<br><img src="./imagens/ricardooliveira.jpg" alt="" height="200px"><br>`
            div_texto.innerHTML+=`É o Santos do Bustos?`
        }else if (contador<=13){
            div_texto.innerHTML+=`<br><img src="./imagens/torcida.jpg" alt="" height="200px"><br>`
            div_texto.innerHTML+=`Ta bom mas pode melhorar`
        }else if(contador==14){
            div_texto.innerHTML+=`<br><img src="./imagens/geracaoquase.jpg" alt="" height="200px"><br>`
            div_texto.innerHTML+=`Eeeeeeeeeeeeeeee geração do quase que não vai embora`
        }else{
            div_quiz.style.display='block'
            div_texto.innerHTML+=`<br><img src="./imagens/tubanoia.png" alt="" height="200px"><br>`
            div_texto.innerHTML+=`Você é muito Santos, não tem jeito. O baguio é o Santos, o resto...`
            div_texto.innerHTML+=`<audio src="./assets/audio/terere.mp3" autoplay></audio>`
            
        }

        div_texto.innerHTML+=`<button onclick="iniciar()">REFAZER QUIZ</button>`
            

            if(um==0){
                div_quiz.innerHTML+=`<p style="color: red;">1.Resposta errada:${respostas[0]} Resposta correta: Ronaldo Mendes</p><br>`
            } 
            if(dois==0){
                div_quiz.innerHTML+=`<p style="color: red;">2.Resposta errada:${respostas[1]} Resposta correta: Danilo</p><br>`
            }
            if(tres==0){
                div_quiz.innerHTML+=`<p style="color: red;">3.Resposta errada:${respostas[2]} Resposta correta: Breitner</p><br>`
            }
            if(quatro==0){
                div_quiz.innerHTML+=`<p style="color: red;">4.Resposta errada:${respostas[3]} Resposta correta: Vitor Bueno</p><br>`
            }
            if(cinco==0){
                div_quiz.innerHTML+=`<p style="color: red;">5.Resposta errada:${respostas[4]} Resposta correta: Junior Moraes</p><br>`
            }
            if(seis==0){
                div_quiz.innerHTML+=`<p style="color: red;">6.Resposta errada:${respostas[5]} Resposta correta: Cicero</p><br>`
            }
            if(sete==0){
                div_quiz.innerHTML+=`<p style="color: red;">7.Resposta errada:${respostas[6]} Resposta correta: Rosario Central</p><br>`
            }
            if(oito==0){
                div_quiz.innerHTML+=`<p style="color: red;">8.Resposta errada:${respostas[7]} Resposta correta: 3 penaltis</p><br>`
            }
            if(nove==0){
                div_quiz.innerHTML+=`<p style="color: red;">9.Resposta errada:${respostas[8]} Resposta correta: Ricardo Oliveira</p><br>`
            }
            if(dez==0){
                div_quiz.innerHTML+=`<p style="color: red;">10.Resposta errada:${respostas[9]} Resposta correta: Ketlen</p><br>`
            }
            if(onze==0){
                div_quiz.innerHTML+=`<p style="color: red;">11.Resposta errada:${respostas[10]} Resposta correta: 83 jogadores</p><br>`
            }
            if(doze==0){
                div_quiz.innerHTML+=`<p style="color: red;">12.Resposta errada:${respostas[11]} Resposta correta: 2 vezes</p><br>`
            }
            if(treze==0){
                div_quiz.innerHTML+=`<p style="color: red;">13.Resposta errada:${respostas[12]} Resposta correta: 11 anos</p><br>`
            }
            if(quartoze==0){
                div_quiz.innerHTML+=`<p style="color: red;">14.Resposta errada:${respostas[13]} Resposta correta: Nigéria</p><br>`
            }
            if(quinze==0){
                div_quiz.innerHTML+=`<p style="color: red;">15.Resposta errada:${respostas[14]} Resposta correta: Naufrágio do Titanic</p><br>`
            }
            aguardar();
    
            //Recupere o valor da nova input pelo nome do id
            // Agora vá para o método fetch logo abaixo
            var totalVar = contador;
    
            // Enviando o valor da nova input
            fetch("/quiz/pontuacao", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    // crie um atributo que recebe o valor recuperado aqui
                    // Agora vá para o arquivo routes/usuario.js
                    totalServer: totalVar,
                    fkusuario:sessionStorage.IDUSUARIO_USUARIO
                })
            }).then(function (resposta) {
    
                console.log("resposta: ", resposta);
    
                if (resposta.ok) {
                    cardErro.style.display = "block";
    
                   
                    
                    limparFormulario();
                    finalizarAguardar();
                } else {
                    throw ("Houve um erro ao tentar realizar o cadastro!");
                }
            }).catch(function (resposta) {
                console.log(`#ERRO: ${resposta}`);
                finalizarAguardar();
            });
    
            return false;
        }
    
        function sumirMensagem() {
            cardErro.style.display = "none"
        }
        
</script>